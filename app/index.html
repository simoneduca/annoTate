<!doctype html>
<html class="no-js">

<head>
    <base href="/">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title ng-bind="pageTitle"></title>
    <meta name="description" content="{{ ::pageDescription }}">
    <meta name="viewport" content="width=device-width">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/main.css">

    <link rel="stylesheet" href="css/elessar.css">
</head>

<body>
    <div ui-view></div>
    <!-- begin Elessar-->
    <div class="container" role="main">
        <pre class="changing"></pre>
    </div>
    <!--end Elessar-->
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="http://blog.153.io/Elessar/bower_components/moment/moment.js"></script>
    <!--    <scritp src="js/moment.js"></scritp>-->
    <script src="js/elessar.min.js"></script>
    <script>
        var r = new RangeBar({
            min: moment().startOf('day').format('LLLL'),
            max: moment().endOf('day').format('LLLL'),
            valueFormat: function (ts) {
                return moment(ts).format('LLLL');
            },
            valueParse: function (date) {
                return moment(date).valueOf();
            },
            values: [
    [
      moment().startOf('day').format('LLLL'),
      moment().startOf('day').add(1, 'hours').format('LLLL')
    ],
    [
      moment().startOf('day').add(1.5, 'hours').format('LLLL'),
      moment().startOf('day').add(3.5, 'hours').format('LLLL')
    ],
  ],
            label: function (a) {
                return moment(a[1]).from(a[0], true);
            },
            //            bgMarks: {
            //                count: 2,
            //                label: function (values) {
            //                    return this.normalise(values[0]) + ' - ' + this.normalise(values[1]);
            //                }
            //            },
            snap: 1000 * 60 * 15,
            minSize: 1000 * 60 * 60,
            barClass: 'progress',
            rangeClass: 'bar',
            allowDelete: true
        });
        $('[role=main]').prepend(r.$el).on('changing', function (ev, ranges) {
            $('pre.changing').html('changing ' + JSON.stringify(ranges, null, 2));
        }).on('change', function (ev, ranges) {
            $('pre.changing').after($('<pre>').html('changed ' + JSON.stringify(ranges, null, 2)));
        });
    </script>
</body>

</html>
